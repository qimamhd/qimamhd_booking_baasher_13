<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
      

        <record model="ir.ui.view" id="hotel_extend_view">
            <field name="name">hotel.extend.view</field>
            <field name="model">hotel.service.extend</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <form>
                        <header>
                            <button name="confirm_btn" string="اعتماد" type="object" class="oe_highlight"
                                 attrs="{'invisible':[ ('state','!=', 'draft')]}"
                                 />
                            <button name="un_confirm_btn" string="الغاء الاعتماد" type="object" class="oe_highlight"
                                 attrs="{'invisible':[ ('state','!=', 'confirm')]}"
                                 />
                            <button name="cancel_order" string="الغاء الملحق" type="object" class="oe_highlight"
                                 attrs="{'invisible':[('state','in', ['draft'])]}"
                                 groups="qimamhd_booking_13.group_allow_cancel_wo"
                                 />
                           
                            <field name="state" widget="statusbar" statusbar_visible="draft,confirm,cancel_order"/>
                        </header>
                        <sheet>
                            <group>
                                <group>
                                    <field name="order_date" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                                    <field name="user_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"  readonly="1" />
                             
                                </group>
                                <group>

                                    <field name="extend_header_id" readonly="1"  string="رقم العقد"/>
                                    <field name="partner_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"  readonly="1"/>
                                     
                                    <field name="service_id"  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"  readonly="1"/>
                                       <field name="department_id"  options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"   readonly="1"/>

                                    <field name="booking_start_date"  readonly="1"/>
                                    <field name="booking_end_date"  readonly="1"/>
                                </group>
                              
                               
                               
                            </group>
                            <notebook>
                                
                                <page string="خدمات القاعات">
                                    <group>
                                        <field name="service_add_lines" attrs="{'readonly':[('state','not in',['draft'])]}" nolabel="1" >
                                            <tree editable="bottom" >
                                                <field name="product_id"  context="{'default_type':'service','default_booking_flag': True}" options="{ 'no_create_edit':True,'no_open': True, }"/>
                                                <field name="name" />
                                                <field name="qty" sum="الاجمالي" />
                                                <field name="price" />

                                                <field name="tax_ids" />
                                                <field name="total" />
                                                <field name="discount_type" />
                                                <field name="discount" />
                                                <field name="discount_total" />
                                                <field name="base_amount" />
                                                <field name="price_after_discount" />
                                                <field name="price_after_discount_with_tax" sum="الاجمالي"/>
                                                <field name="header_id" invisible="1"/>
                                            </tree>
                                        </field>
                                    </group>
                                </page>
                             
                               
                            </notebook>
                      
                        </sheet>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
   <!--                        <field name="activity_ids" widget="mail_activity"/>-->
                           <field name="message_ids" widget="mail_thread"/>
                       </div>
                    </form>
            </field>
        </record>

        <record id="hotel_extend_tree_view" model="ir.ui.view">
            <field name="name">hotel.extend.tree</field>
            <field name="model">hotel.service.extend</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="order_date" />
                    <field name="user_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"   />
             
                    <field name="partner_id" />
                               
                   
                    <field name="booking_start_date" />
                    <field name="booking_end_date" />
                

                  
                    

                </tree>
            </field>
        </record>
     
        <record id="action_hotel_extend_view" model="ir.actions.act_window">
            <field name="name">حجوزات العملاء</field>
            <field name="res_model">hotel.service.extend</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="hotel_extend_tree_view"/>
            <field name="target">current</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new service Type
                </p>
            </field>
        </record>



       

    </data>
</odoo>